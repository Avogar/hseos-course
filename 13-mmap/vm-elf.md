# Виртуальная память, исполнимые файлы и библиотеки. Часть 1

## Виртуальная память
**[Виртуальная память](https://ru.wikipedia.org/wiki/%D0%92%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D1%8C)** -
это технология, позволяющая отобразить адреса памяти, используемые процессом, 
 называемые также [виртуальными адресами](https://en.wikipedia.org/wiki/Virtual_address_space), 
 на физические адреса в памяти компьютера. Реализуется при помощи 
 [блока управления памятью (MMU)](https://en.wikipedia.org/wiki/Memory_management_unit) процессора 
 и ядра операционной системы (оно управляет тем, какие именно физические адреса MMU ставит 
 в соответствие виртуальным адресам процесса).
 
#### Какая бывает
 
Есть два основных способа организовать виртуальную память: 
 
* через [пары сегмент - смещение](https://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D0%B3%D0%BC%D0%B5%D0%BD%D1%82%D0%BD%D0%B0%D1%8F_%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B0%D1%86%D0%B8%D1%8F_%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D0%B8) - этот способ мы рассматривать не будем;

* через [таблицы страниц](https://en.wikipedia.org/wiki/Page_table) - так работают практически все современные системы с виртуальной памятью, и мы этот способ рассмотрим ниже. 
Если кратко - для каждого процесса ОС поддерживает таблицу соответствия виртуальных адресов физическим и, когда готовит контекст выполнения очередного процесса, инициализирует MMU адресом его таблицы.
 
#### Чем хорошо
  
* Абстрагирует программы от деталей того, как организована физическая память конкретной системы 
  (объём памяти, какие адреса зарезервированы под взаимодествие с устройствами области, 
  какие заняты ядром О или другими процессами),  программы можно писать исходя из очень простых предположений.

* Изолирует процессы друг от друга и от ядра ОС. Процессы по умолчанию не имеют доступа к памяти друг друга 
  и к памяти ядра ОС.

* Даёт возможность ядру ОС управлять памятью как ресурсом. Ядро может, не нарушая работу процессов, перемещать их в физической памяти, 
  выгружать их память на диск или отображать в их память внешние устройства.
  
#### Как устроена страничная виртуальная память
